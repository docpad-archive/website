// Coded in Stylus: http://learnboost.github.com/stylus/

// ====================================
// Imports

// nib: http://visionmedia.github.com/nib/
@import 'nib'

// fonts
@import url("http://fonts.googleapis.com/css?family=Source+Code+Pro:200,300,400,600,700,900")


// ====================================
// Responsive Layout Awesomeness
// https://gist.github.com/1549029
// Published under the "public domain" using the Creative Commons Zero - http://creativecommons.org/publicdomain/zero/1.0/

// Everything
*
	// Make paddings be included within the width
	box-sizing border-box

// Provide our wrapper mixin
// Contains our resize transition
wrapper($site-width = 70%)
	$site-margin = ((100% - $site-width) / 2)
	margin-left: $site-margin
	margin-right: $site-margin
	transition: margin 0.3s ease-out
	clearfix()

// Provide our column mixin
column($columns)
	display: inline
	float: left
	overflow: hidden
	width: (100/$columns)%


// ====================================
// Configuration

// Fonts
fontMyraid = "Myriad Pro", "Segoe WP", "Segoe UI", Segoe, Calibri, Helvetica, Arial
fontMyraidBoldest = 700
fontMyraidBold = 600
fontMyraidNormal = 500
fontMyraidLight = 500
fontMyraidLightest = 500
fontFutura = "futura-pt", Helvetica, Arial, sans-serif
fontGeorgia = Georgia, Times, serif
fontConsolas = Consolas, Menlo, Monaco, 'Source Code Pro', 'courier new', monospace, serif
fontMonaco = Monaco, Menlo, Consolas, 'Source Code Pro', 'courier new', monospace, serif

// Colors
colorBlue = #259dcf

colorDarkGold = #998758
colorGold = #b09e6e
colorLightGold = #c0ae7e
colorLighterGold = #e2d5b2
colorLightestGold = #f2ead4

colorDarkestBrown = #3e3e3e
colorDarkBrown = #777
colorBrown = #9f9f9f
colorLightBrown = #aaa
colorLighterBrown = #dbdbdb
colorLightestBrown = #f1f1f1

colorLink = colorBlue
colorAccent = colorDarkGold


// ====================================
// Mixins

// Icons
mixinIconPageUp()
	&:before
		content: '↑'
mixinIconPageDown()
	&:before
		content: '↓'
mixinIconPagePrev()
	&:before
		content: '←'
mixinIconPageNext()
	&:before
		content: '→'
mixinIconSectionUp()
	&:before
		content: '⇧'
mixinIconSectionDown()
	display: inline-block
	transform: rotate(-180deg)
	&:before
		content: '⇧'
mixinIconAccountPointer()
	display: inline-block
	transform: rotate(-180deg)
	transition: all 0.5s
	&:before
		content: '▴'


// ====================================
// Fonts

body
.search input
	font-family: fontMyraid

	font-smooth: always
	-webkit-font-smoothing: antialiased
    color-profile: sRGB
    rendering-intent: auto
	text-rendering: optimizeLegibility

nav
.btn
.providers
footer
	font-family: fontMyraid
	font-weight: fontMyraidNormal
	text-transform: uppercase

h1
h2
h3
h4
	font-family: fontFutura
	font-weight: fontMyraidNormal
	text-transform: uppercase

// ------------------------------------
// Links

a
	text-decoration: none
a:not(.hover-link),.link
	cursor: pointer
	text-decoration: none
	color: colorLink
	font-weight: fontMyraidBold
.hover-link
	cursor: pointer
	text-decoration: none
	color: inherit
a:hover,.hover-link:hover
	text-decoration: underline


// ------------------------------------
// Code

code
pre code
	font-weight: 500
	border-radius: 0.5em
	background: colorLightestGold
	color: hsl(186, 8%, 15%)

code
	font-size: 0.75em
	font-family: fontConsolas

	display: inline-block
	padding: 0.05em 0.5em 0em
	margin: 0.4em 0.2em 0.2em 0
	border: 1px solid hsl(186, 8%, 88%)

	white-space: pre

pre code
	font-size: 0.7em
	font-family: fontMonaco

	display: block
	margin: 2.5em 0
	padding: 1em 1.5em
	border: 1px solid hsl(192, 8%, 84%)

	line-height: 1.5em


// ====================================
// Global Styles

body
	background: colorLightestBrown
	color: colorDarkestBrown

blockquote
	margin: 3em
	color: hsl(11, 90%, 55%)
	em
		font-style: italic

em
	// color: colorAccent
	// font-style: normal
	font-style: italic

nav
nav li
	list-style: none

.btn
	background-color: colorLightGold
	background-image: linear-gradient(top, colorLightGold, colorGold)
	border: 2px solid white
	border-radius: 3px
	color: colorDarkestBrown !important
	display: inline-block
	margin: 1em auto
	padding: 15px 30px
	text-shadow: 1px 1px 0 rgba(white, .3)

	&:hover
		background-image: none
		box-shadow: inset 1px 1px 2px rgba(black, .2)


// ====================================
// Layout and structure

.bottombar
.topbar
.container
	margin: 0 auto
	width: 90%
	position: relative
	background: hsl(0, 0%, 95%)
	clear: both

.bottombar
	margin-top: 3em
	width: 100%
	min-height: 4em

.topbar
	top: 0
	position: fixed
	left: 5%
	z-index: 500

.sidebar
	position: fixed
	top: 4em
	left: 5%

	width: 200px
	word-wrap: break-word

	opacity: 1
	transition: all 0.2s ease-out

	&.fixed
		opacity: 0.5
		&:hover
			opacity: 1

.page
	width: 100%
	padding-left: 200px

.page.nonav
	padding-left: 0

.mainbar
	font-weight: 400
	margin-top: 40px
	clearfix()

.webchat
	position: fixed
	left: 0%
	bottom: 0
	width: 100%
	height: 500px
	display: none
	.wrapper
		border: 1px solid hsl(209, 32%, 82%)
		background: hsl(209, 70%, 94%)
		width: 30%
		height: 500px
	iframe
		background: white
		border: none
		width: 100%
		height: 500px
	.close
		position: absolute
		top: 0
		right: 0
		width: 20px
		height: 20px
		padding-top:3px
		cursor: pointer
		text-align: center
	.open
		display: block
		position: absolute
		bottom: 0
		left: 0
		width: 100px
		height: 25px
		cursor: pointer
		border: 1px solid hsl(209, 32%, 82%)
		background: hsl(209, 70%, 94%)
		text-align: center
		padding-top: 0.3em



// ====================================
// Main navigation

.topbar
	border-bottom: 1px solid colorLightBrown
	box-shadow: 0 1px 0 white
	padding-top: 1.2em
	line-height: 1.5em

	.links
		display: inline

	a
		border-bottom: 6px solid transparent
		color: colorDarkestBrown
		display: inline-block
		font-size: 15px
		margin-right: 25px
		padding-bottom: 0.6em

		&:hover
		&.active
			border-color: colorLightGold
			text-decoration: none

	.logo
		background: transparent url(/img/logo-docpad.png) no-repeat 0 58%
		width: 141px
		height: 25px
		text-indent: -9999em
		padding: 0
		&:hover
			border-color: transparent

	.search
		float: right

		input
			background: white url(/img/icon-search.gif) no-repeat 10px 50%
			border: 1px solid colorLighterBrown
			border-radius: 30px
			color: colorDarkBrown
			font-size: 14px
			padding: .313em 0.938em .188em 2.188em
			width: 170px

			&:focus
				outline: none


// ====================================
// Splash Styles

.splash
	section
		margin: 4em 0
		padding: 1.5em 0
		text-align: center

	h1
		font-size: 4em
	h2
		font-size: 2.5em
	h3
		font-size: 2.5em

	p
		color: colorDarkBrown
		font-size: 1.1em
		line-height: 1.6em
		margin-left: auto
		margin-right: auto
		max-width: 450px

	.btn
		font-size: 1.5em


	// ====================================
	// Splash - Hero Space

	.overview
		font-family: fontFutura
		font-size: 1.4em
		line-height: 1.2em
		list-style: none
		padding: 3em 0 1em
		width: 90%
		margin: 0 auto

		li
			display: inline-block
			margin: .25em 1%
			width: 17%
			position: relative

			span
				display: block

			.image
				background: url(../img/splash-features.png) no-repeat 4px 100%
				width: 152px
				height: 256px
				margin: 0 auto

			&.versioning .image
				background-position: 0 10px
			&.skeletons .image
				background-position: -206px 0
			&.language .image
				background-position: -400px 0
			&.deploys .image
				background-position: -596px 0
			&.plugins .image
				background-position: -806px 0

			// Popover
			.popover
				position: absolute
				left: 0
				margin: .75em -2%
				z-index: 3

				background: white
				padding: .25em
				border-radius: .25em

				line-height: 1.25em

				visibility: hidden
				opacity: 0
				transition: all .2s ease-in-out

			.popover:before
				content: ""
				background: white

				z-index: -3
				width: 1em
				height: 1em
				margin-left: -.5em

				position: absolute
				top: -.4em
				left: 50%

				transform: rotate(45deg)

			&:hover
				cursor: pointer

				.popover
					visibility: visible
					opacity: 1
					margin-top: 1em


	// ====================================
	// Splash - Support & About Sections

	.support
		background: colorLightGold
		p
			color: colorDarkestBrown

	.providers
		list-style: none
		padding: 2em 0 0

		li
			display: inline-block
			margin: 0 3em 2em

		a
			color: colorLightestGold
			font-size: 1.4em
			font-weight: 400

			&:hover
				color: white

// ====================================
// Navigation

// Menu
.list-menu
	// Group
	ul
		padding: 0
		marign: 0

	// Title
	.list-menu-title
		font-size: 1em
		margin: 0
		font-weight: inherit
		font-family: inherit
		text-transform: inherit

	// Link
	.list-menu-link
		border-left: 5px solid transparent
		color: colorDarkestBrown
		display: inline-block
		padding: 0.15em 0.5em
		font-weight: fontMyraidBold

	// Category
	.list-menu-category > .list-menu-link .list-menu-title
		font-weight: fontMyraidBoldest

	// Item
	.list-menu-item .list-menu-link
		text-transform: none
		&:hover
			color: colorDarkGold

	// Item Active
	.list-menu-item.active .list-menu-link
		font-weight: fontMyraidBold
		color: colorDarkGold

// Sidebar
.sidebar
	overflow: hidden

	// Menu
	.list-menu
		// Category Group
		.list-menu-categories
			&:first-child
				border-left: 2px solid colorLightGold
				padding: 0

		// Category
		.list-menu-category
			padding: 5px 0

			&.active > .list-menu-link
				border-color: colorLightGold
			&.inactive
				.list-menu-items
					max-height: 0
			&:hover
				.list-menu-items
					max-height: 300px

		// Item Group
		.list-menu-items
			margin: 5px 0
			padding-left: 1em
			overflow: hidden
			transition: max-height 0.5s ease-out
			height: auto
			max-height: 300px

// Documentation Index Page
.docs
	// Menu
	.list-menu
		margin-top: 3em
		//margin-left: -4%

		// Category
		.list-menu-category
			display: inline-block
			overflow: hidden
			width: 21%
			//margin-left: 4%
			margin: 0 2%
			float: left
			min-height: 350px

			> .list-menu-link
				padding: 0
				border: none
				color: colorDarkGold
				.list-menu-title
					font-size: 1.5em
					font-family: fontFutura
					font-weight: fontMyraidNormal

		// Item Group
		.list-menu-items
			padding: 1em 3%
			background: white
			border-radius: 3px

			// Item
			.list-menu-item
				a
					font-weight: fontMyraidBold
					color: colorDarkestBrown


// ====================================
// Main Content

.page
	padding-top: 2em

.block
	padding: 0.5em 3%
	background: white
	border-radius: 3px
	word-wrap: break-word
	overflow: hidden

	.section-wrapper
		display:none
		&.active
			display:block

	h1
		margin-bottom: 0
		font-size: 2.5em
		font-weight: fontMyraidBoldest

	h2
		font-weight: fontMyraidBoldest
		font-size: 1.8em
		margin-top: 4em

	.compact
		h2
			color: colorLink

	h3
		font-size: 1.5em
		margin-top: 3em

	h4
		font-size: 1.2em
		margin-top: 2.5em

	h2
		border-bottom: 1px dotted colorLighterBrown


	a
		color: colorLink
		font-weight: fontMyraidBold
		&:hover
			text-decoration: underline

	dl dt
		font-weight: fontMyraidBoldest
	dl dd
		margin: 0 0 1.4em 1.1em

	img
		border: 2px solid colorLightestBrown
		display: block
		margin: 1em auto
		max-width: 100%

	table
		font-size: 1em
		margin: 2em 0
		width: 100%

		th
		td
			padding: 0.8em

		th
			background: colorLightGold
			color: white

		tr:nth-child(2n+2)
			background: colorLightestBrown

	.block-footer
		border-top: 1px dotted colorLighterBrown
		margin: 5em 0 1.5em
		padding-top: 1em
		clearfix()

	.prev-next
		position: relative
		height: 2em

		a
			font-weight: fontMyraidBoldest

		.prev
		.next
		.up
			display: block
			position: absolute
			bottom: 0
			height: 2em
			width: 33%
			text-decoration: none
			&:hover
				opacity: 1
				.title
					text-decoration: underline
			.icon
				display: block
				height: auto
				width: auto

		.prev
			left: 0
			text-align: left
			.icon
				mixinIconPagePrev()
		.next
			right: 0
			text-align: right
			.icon
				mixinIconPageNext()
		.up
			left: 33%
			text-align: center
			.icon
				mixinIconPageUp()


// ====================================
// Footer

.bottombar
	font-size: 1em
	border-top: 1px solid white
	box-shadow: 0 -1px 0 colorLightBrown
	padding: 1em 0
	line-height: 2em

	a
		font-weight: fontMyraidBoldest
		&:hover
			text-decoration: underline

	.about
		float: left
		a
			color: colorLink

	.links
		float: right
		a
			color: colorDarkestBrown
			margin: 0 0.5em



// ====================================
// Layout: Responsive
// Write your responsive layout styles here
// Below is merely an example of how this should work

@media screen and (max-width: 1024px)
	// Shrink splash overview
	.splash
		.overview
			li
				margin: 0 4%

				.popover
					margin: .5em -10%

	// Remove side padding
	.container
		width: 100%
	.topbar
		width: 100%
	.topbar
	.sidebar
		left: 0

	// Remove margin about the bottombar
	.bottombar
		margin-top: 2em
		.about
			margin-left: 2%
		.links
			margin-right: 2%

	// Hide the webchat button
	.webchat
		position: absolute
		left: -1000px
		top: -1000px

@media screen and (max-width: 960px)
	// Reduce doc columns
	.docs
		.list-menu
			.list-menu-category
				font-size: 90%
				min-height: 300px

@media screen and (max-width: 900px)
	// Hide the search bar
	.topbar
		.search
			display: none

@media screen and (max-width: 830px)
	// Reduce doc columns
	.docs
		.list-menu
			.list-menu-category
				width: 23%
				margin: 0 1%

@media screen and (max-width: 768px)
	// Reduce doc columns per row to 2
	.docs
		.list-menu
			.list-menu-category
				width: 47%
				margin: 1em 1.5%

	// Make top menu two rows
	.topbar
		text-align: center
		.links
			padding-top: 1em
			display: block

	// Decrease sidebar width and font size
	.sidebar
		top: 6em
		width: 150px
		.list-menu
			font-size: 80%
	.page
		padding-left: 150px

	// Make main nav absolute instead of fixed
	.topbar
		position: relative
		width: 100%
		left: 0
	.sidebar.fixed
		top: 0
		opacity: 1
	.mainbar
		margin-top: 0
	.page
		padding-top: 0

	// Remove top margin on the bottombar
	.bottombar
		margin-top: 0
		.about
		.links
			margin: 0


	// Shrink features even more
	.splash
		.overview
			li
				.image
					zoom: 0.75

@media screen and (max-width: 650px)
	// Shrink features even more
	.splash
		.overview
			li
				.image
					zoom: 0.6

	// Remove sidebar
	.sidebar
		display: none

	// Adjust font sizes
	.page
		font-size: 95%
		padding-left: 0
		width: 100%
	.splash
		font-size: 80%
	.block
		h2
			margin-top: 3em
		h3
			margin-top: 2.5em
		h4
			margin-top: 2.1em

	// Make footer two rows
	.bottombar
		text-align: center
		.about
		.links
			float: none


@media screen and (max-width: 450px)
	// Shrink features even more
	.splash
		.overview
			li
				.image
					zoom: 0.5

	// Hide the links
	.bottombar
		.links
			display: none

	// Allow code blocks to break
	code
		word-wrap: break-word

	// Adjust font sizes
	.page
		font-size: 90%
	.splash
		font-size: 65%
		p
			font-size: 130%
	.block
		h2
			margin: 2.3em 0 1em
		h3
			margin: 2.2em 0 1em
		h4
			margin: 2.1em 0 1em


@media screen and (max-width: 320px)
	// Reduce doc columns per row to 1
	.docs
		.list-menu
			.list-menu-category
				width: 100%
				margin: 1em 0
				min-height: inherit

	// Adjust font sizes
	.prev-next .title
		font-size: 70%
